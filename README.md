# SDL2_HomeWorl2  
环境：VS2017 VC++   SDL2-2.0.9   SDL2_ttf-2.0.14  
一、	文件组成  
[主]Base.h  
	包含点类（Point）、线类（Line）的声明与实现，Base类的声明。  
[主]Base.cpp  
	包含封闭图形虚基类、静态计算类（Calc）的实现。  
Func.h  
	全局变量声明。  
Func.cpp  
	包含画圆和画坐标轴及表格的实现，其实并没有必要专门一个类，主要绘制还是在主循环中。  
Triangle.h  
	三角形类声明。  
Triangle.cpp  
	三角形类实现，Base的派生类之一。包含形状判断。  
Tetragon.h  
	四边形类声明。  
Tetragon.cpp  
	四边形类实现，Base的派生类之一。包含形状判断。  
Polygon.h  
	多边形类声明。  
Polygon.cpp  
	多边形类实现，继承于Triangle和Tetragon。包含构造函数和形状判断总合函数  
main.cpp  
	包含SDL初始化函数、主函数。  
二、	主要函数  
int main(int argc, char* argv[]);  
主循环以及部分绘制、按键事件处理均在main函数中。此程序较少使用全局变量，所以所有动态变量均在main中，只有main中能使用动态数据。  
这么做主要是因为先写的计算方面的类，后面加的SDL，Base、Polygon等类除了DrawImage函数，脱离SDL另外写一个main函数用控制台依然能正常使用。  
三、	主循环  
键盘事件：根据按键来处理一些功能，如添加、删除操作  
鼠标事件：鼠标移动和点击事件  
窗口事件：窗口大小被改变，表格自适应  
绘制部分：绘制背景层（坐标轴），图形层（点、线以及动态绘制），文字层（信息和帮助）  

四、	其他  
1、	单位转换  
如鼠标移动事件中：  
save_x = (int)((event.motion.x + unit / 2) / unit) * unit;  
save_y = (int)((event.motion.y + unit / 2) / unit) * unit;  
unit是一个坐标轴单位的实际像素大小，利用整数型强制转化的性质使鼠标坐标对齐到网格（转换为坐标轴坐标），+unit/2即实现了“四舍五入”。  
2、	焦点图形、点  
用变量记录最后鼠标经过的点所在的图形下标，均用遍历查询  
3、	包围盒  
圆点的判断区域均为正方形。  
五、	使用说明  
1、	ESC退出程序  
2、	方向键移动焦点图形  
3、	鼠标拖动点  
4、	F1 显示/隐藏 数据信息  
5、	F2 显示/隐藏 帮助文本  
6、	F3 显示/隐藏 坐标轴及表格（自动对齐依然存在）  
7、	Shift+按键 图形操作  
Shift+A 新建图形，默认只有一个点，但是一个单独的图形  
Shift+1 快速新建三角形（在鼠标处）  
Shift+2 快速新建四边形（在鼠标处）  
Shift+D 删除焦点图形（最后一个图形无法完全删除，只会是“无点”的图形，Ctrl+A新增点）  
Ctrl+按键 点操作（图形内）  
Ctrl+A  在当前图形内新增点(在鼠标处)  
Ctrl+D  在当前图形内删除点(在当前焦点处)  
		Ctrl 在鼠标处增加 主要线段 点 两点组成一条绿色的线段，再次按下清除此线段  
		Alt  在鼠标处增加 辅助线段 点 两点组成一条红色的线段，再次按下清除此线段  
		注：主要线段用于计算点到直线距离（主要线段存在后，鼠标放到图形断点上即可显示数据），也用于判断两线段位置关系。辅助线段可以度量距离，也用于判断两线段位置关系。  


